import{S as T,i as B,s as U,k as w,a as P,q as X,l as y,m as k,h as g,c as D,r as Z,n as A,B as h,b as x,C as v,D as G,E as H,u as ee,F as te,G as V,H as ae,A as W,I as L,f as E,g as ne,d as se,t as C,J as re,K as le,v as J,w as K,x as Y,y as Q,L as oe,M as ie,N as ce,O as fe,o as q}from"../../chunks/index-c260c7ce.js";import{a as ue,s as de}from"../../chunks/messages-82999fe2.js";import{S as M}from"../../chunks/sweetalert2.all-e9acc6ac.js";import{t as pe}from"../../chunks/index-b31b03a2.js";function _e(s){const e=s-1;return e*e*e+1}function N(s,{delay:e=0,duration:n=400,easing:r=_e,x:a=0,y:l=0,opacity:t=0}={}){const i=getComputedStyle(s),o=+i.opacity,p=i.transform==="none"?"":i.transform,d=o*(1-t);return{delay:e,duration:n,easing:r,css:(b,_)=>`
			transform: ${p} translate(${(1-b)*a}px, ${(1-b)*l}px);
			opacity: ${o-d*_}`}}function O(s){let e,n,r,a;return{c(){e=w("button"),n=w("i"),this.h()},l(l){e=y(l,"BUTTON",{class:!0});var t=k(e);n=y(t,"I",{class:!0}),k(n).forEach(g),t.forEach(g),this.h()},h(){A(n,"class","fa-solid fa-square-xmark"),A(e,"class","hover:text-neutral-focus active:text-neutral")},m(l,t){x(l,e,t),v(e,n),r||(a=G(e,"click",ae(H(s[7]))),r=!0)},p:W,d(l){l&&g(e),r=!1,a()}}}function he(s){let e,n,r,a,l,t,i,o,p,d,b,_,u=s[6]&&O(s);return{c(){e=w("div"),n=w("i"),r=P(),a=w("div"),l=w("span"),t=X(s[5]),i=P(),o=w("div"),u&&u.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var f=k(e);n=y(f,"I",{class:!0}),k(n).forEach(g),r=D(f),a=y(f,"DIV",{class:!0});var I=k(a);l=y(I,"SPAN",{});var S=k(l);t=Z(S,s[5]),S.forEach(g),I.forEach(g),i=D(f),o=y(f,"DIV",{class:!0});var m=k(o);u&&u.l(m),m.forEach(g),f.forEach(g),this.h()},h(){A(n,"class","select-none fa-solid"),h(n,"fa-info",s[4]==="info"),h(n,"fa-circle-exclamation",s[4]==="error"),h(n,"fa-triangle-exclamation",s[4]==="warning"),A(a,"class","select-none"),A(o,"class","flex-none"),A(e,"class","alert my-0.5 cursor-pointer"),h(e,"alert-info",s[4]==="info"),h(e,"alert-error",s[4]==="error"),h(e,"alert-warning",s[4]==="warning")},m(c,f){x(c,e,f),v(e,n),v(e,r),v(e,a),v(a,l),v(l,t),v(e,i),v(e,o),u&&u.m(o,null),d=!0,b||(_=G(e,"click",H(s[8])),b=!0)},p(c,[f]){(!d||f&16)&&h(n,"fa-info",c[4]==="info"),(!d||f&16)&&h(n,"fa-circle-exclamation",c[4]==="error"),(!d||f&16)&&h(n,"fa-triangle-exclamation",c[4]==="warning"),(!d||f&32)&&ee(t,c[5]),c[6]?u?u.p(c,f):(u=O(c),u.c(),u.m(o,null)):u&&(u.d(1),u=null),(!d||f&16)&&h(e,"alert-info",c[4]==="info"),(!d||f&16)&&h(e,"alert-error",c[4]==="error"),(!d||f&16)&&h(e,"alert-warning",c[4]==="warning")},i(c){d||(te(()=>{p||(p=V(e,N,{},!0)),p.run(1)}),d=!0)},o(c){p||(p=V(e,N,{},!1)),p.run(0),d=!1},d(c){c&&g(e),u&&u.d(),c&&p&&p.end(),b=!1,_()}}}function ge(s,e,n){let r,a=W,l=()=>(a(),a=L(u,m=>n(4,r=m)),u),t,i=W,o=()=>(i(),i=L(c,m=>n(5,t=m)),c),p,d=W,b=()=>(d(),d=L(f,m=>n(6,p=m)),f);s.$$.on_destroy.push(()=>a()),s.$$.on_destroy.push(()=>i()),s.$$.on_destroy.push(()=>d());let{dispatchedAlert:_}=e,u,c,f;const I=()=>_.close(),S=()=>_.click();return s.$$set=m=>{"dispatchedAlert"in m&&n(0,_=m.dispatchedAlert)},s.$$.update=()=>{s.$$.dirty&1&&l(n(1,u=_.type)),s.$$.dirty&1&&o(n(2,c=_.text)),s.$$.dirty&1&&b(n(3,f=_.closeable))},[_,u,c,f,r,t,p,I,S]}class me extends T{constructor(e){super(),B(this,e,ge,he,U,{dispatchedAlert:0})}}function R(s,e,n){const r=s.slice();return r[1]=e[n],r}function j(s){let e,n;return e=new me({props:{dispatchedAlert:s[1]}}),{c(){J(e.$$.fragment)},l(r){K(e.$$.fragment,r)},m(r,a){Y(e,r,a),n=!0},p(r,a){const l={};a&1&&(l.dispatchedAlert=r[1]),e.$set(l)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function $e(s){let e,n,r=s[0],a=[];for(let t=0;t<r.length;t+=1)a[t]=j(R(s,r,t));const l=t=>C(a[t],1,1,()=>{a[t]=null});return{c(){e=w("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=y(t,"DIV",{class:!0});var i=k(e);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(g),this.h()},h(){A(e,"class","absolute top-0 right-0 h-full max-w-full flex flex-col overflow-x-auto z-40")},m(t,i){x(t,e,i);for(let o=0;o<a.length;o+=1)a[o].m(e,null);n=!0},p(t,[i]){if(i&1){r=t[0];let o;for(o=0;o<r.length;o+=1){const p=R(t,r,o);a[o]?(a[o].p(p,i),E(a[o],1)):(a[o]=j(p),a[o].c(),E(a[o],1),a[o].m(e,null))}for(ne(),o=r.length;o<a.length;o+=1)l(o);se()}},i(t){if(!n){for(let i=0;i<r.length;i+=1)E(a[i]);n=!0}},o(t){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)C(a[i]);n=!1},d(t){t&&g(e),re(a,t)}}}function be(s,e,n){let r;return le(s,ue,a=>n(0,r=a)),[r]}class ve extends T{constructor(e){super(),B(this,e,be,$e,U,{})}}function we(){return"__TAURI__"in window?"tauri":"web"}const ye=we();let $;function z(){de({text:"Update installed Click here to Restart",type:"info",showCloseButton:!1,onClick:async s=>{s.text.set("Installing Please wait..."),await ke()}})}async function ke(){await $.update(),$.installing?(console.log("SW still installing waiting for it to finish"),$.installing.addEventListener("statechange",F)):await F()}async function F(){console.log("SW installed apply update to Application"),$.waiting?$.waiting.postMessage("APPLY_UPDATE"):window.location.reload()}async function Ae(){if(ye==="tauri"){console.log("Service Worker not enabled in Tauri");return}if("serviceWorker"in navigator){navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Controllerchange event -> reloading"),M.fire({title:"Restarting",text:"Please Wait"}),M.showLoading(),window.location.reload()});const s=await navigator.serviceWorker.register("/service-worker.js");s&&($=s,$.waiting||$.installing?z():$.addEventListener("updatefound",z),setInterval(()=>s.update(),1e3*60*60))}else console.log("Service Worker not supported")}function Ee(s){let e,n,r;const a=s[1].default,l=oe(a,s,s[0],null);return n=new ve({}),{c(){l&&l.c(),e=P(),J(n.$$.fragment)},l(t){l&&l.l(t),e=D(t),K(n.$$.fragment,t)},m(t,i){l&&l.m(t,i),x(t,e,i),Y(n,t,i),r=!0},p(t,[i]){l&&l.p&&(!r||i&1)&&ie(l,a,t,t[0],r?fe(a,t[0],i,null):ce(t[0]),null)},i(t){r||(E(l,t),E(n.$$.fragment,t),r=!0)},o(t){C(l,t),C(n.$$.fragment,t),r=!1},d(t){l&&l.d(t),t&&g(e),Q(n,t)}}}function Ce(s,e,n){let{$$slots:r={},$$scope:a}=e;return q(Ae),q(()=>pe.exports.themeChange(!1)),s.$$set=l=>{"$$scope"in l&&n(0,a=l.$$scope)},[a,r]}class Le extends T{constructor(e){super(),B(this,e,Ce,Ee,U,{})}}export{Le as default};
