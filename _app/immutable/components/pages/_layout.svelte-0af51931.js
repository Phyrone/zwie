import{S as T,i as B,s as U,k as w,a as x,q as Q,l as y,m as k,h as g,c as D,r as X,n as A,C as h,b as W,D as v,E as F,F as G,u as Z,G as ee,H as V,I as te,B as P,J as L,f as E,g as ne,d as ae,t as I,K as se,L as re,w as H,x as J,y as K,z as Y,M as le,N as oe,O as ie,P as ce,o as fe}from"../../chunks/index-46970648.js";import{a as ue,s as de}from"../../chunks/messages-9145f738.js";import{S as q}from"../../chunks/sweetalert2.all-ff3c3e56.js";import"../../chunks/theme-selector-7a652417.js";function pe(s){const e=s-1;return e*e*e+1}function M(s,{delay:e=0,duration:a=400,easing:r=pe,x:n=0,y:l=0,opacity:t=0}={}){const i=getComputedStyle(s),o=+i.opacity,p=i.transform==="none"?"":i.transform,d=o*(1-t);return{delay:e,duration:a,easing:r,css:(b,_)=>`
			transform: ${p} translate(${(1-b)*n}px, ${(1-b)*l}px);
			opacity: ${o-d*_}`}}function N(s){let e,a,r,n;return{c(){e=w("button"),a=w("i"),this.h()},l(l){e=y(l,"BUTTON",{class:!0});var t=k(e);a=y(t,"I",{class:!0}),k(a).forEach(g),t.forEach(g),this.h()},h(){A(a,"class","fa-solid fa-square-xmark"),A(e,"class","hover:text-neutral-focus active:text-neutral")},m(l,t){W(l,e,t),v(e,a),r||(n=F(e,"click",te(G(s[7]))),r=!0)},p:P,d(l){l&&g(e),r=!1,n()}}}function _e(s){let e,a,r,n,l,t,i,o,p,d,b,_,u=s[6]&&N(s);return{c(){e=w("div"),a=w("i"),r=x(),n=w("div"),l=w("span"),t=Q(s[5]),i=x(),o=w("div"),u&&u.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var f=k(e);a=y(f,"I",{class:!0}),k(a).forEach(g),r=D(f),n=y(f,"DIV",{class:!0});var S=k(n);l=y(S,"SPAN",{});var C=k(l);t=X(C,s[5]),C.forEach(g),S.forEach(g),i=D(f),o=y(f,"DIV",{class:!0});var m=k(o);u&&u.l(m),m.forEach(g),f.forEach(g),this.h()},h(){A(a,"class","select-none fa-solid"),h(a,"fa-info",s[4]==="info"),h(a,"fa-circle-exclamation",s[4]==="error"),h(a,"fa-triangle-exclamation",s[4]==="warning"),A(n,"class","select-none"),A(o,"class","flex-none"),A(e,"class","alert my-0.5 cursor-pointer"),h(e,"alert-info",s[4]==="info"),h(e,"alert-error",s[4]==="error"),h(e,"alert-warning",s[4]==="warning")},m(c,f){W(c,e,f),v(e,a),v(e,r),v(e,n),v(n,l),v(l,t),v(e,i),v(e,o),u&&u.m(o,null),d=!0,b||(_=F(e,"click",G(s[8])),b=!0)},p(c,[f]){(!d||f&16)&&h(a,"fa-info",c[4]==="info"),(!d||f&16)&&h(a,"fa-circle-exclamation",c[4]==="error"),(!d||f&16)&&h(a,"fa-triangle-exclamation",c[4]==="warning"),(!d||f&32)&&Z(t,c[5]),c[6]?u?u.p(c,f):(u=N(c),u.c(),u.m(o,null)):u&&(u.d(1),u=null),(!d||f&16)&&h(e,"alert-info",c[4]==="info"),(!d||f&16)&&h(e,"alert-error",c[4]==="error"),(!d||f&16)&&h(e,"alert-warning",c[4]==="warning")},i(c){d||(ee(()=>{p||(p=V(e,M,{},!0)),p.run(1)}),d=!0)},o(c){p||(p=V(e,M,{},!1)),p.run(0),d=!1},d(c){c&&g(e),u&&u.d(),c&&p&&p.end(),b=!1,_()}}}function he(s,e,a){let r,n=P,l=()=>(n(),n=L(u,m=>a(4,r=m)),u),t,i=P,o=()=>(i(),i=L(c,m=>a(5,t=m)),c),p,d=P,b=()=>(d(),d=L(f,m=>a(6,p=m)),f);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>i()),s.$$.on_destroy.push(()=>d());let{dispatchedAlert:_}=e,u,c,f;const S=()=>_.close(),C=()=>_.click();return s.$$set=m=>{"dispatchedAlert"in m&&a(0,_=m.dispatchedAlert)},s.$$.update=()=>{s.$$.dirty&1&&l(a(1,u=_.type)),s.$$.dirty&1&&o(a(2,c=_.text)),s.$$.dirty&1&&b(a(3,f=_.closeable))},[_,u,c,f,r,t,p,S,C]}class ge extends T{constructor(e){super(),B(this,e,he,_e,U,{dispatchedAlert:0})}}function O(s,e,a){const r=s.slice();return r[1]=e[a],r}function R(s){let e,a;return e=new ge({props:{dispatchedAlert:s[1]}}),{c(){H(e.$$.fragment)},l(r){J(e.$$.fragment,r)},m(r,n){K(e,r,n),a=!0},p(r,n){const l={};n&1&&(l.dispatchedAlert=r[1]),e.$set(l)},i(r){a||(E(e.$$.fragment,r),a=!0)},o(r){I(e.$$.fragment,r),a=!1},d(r){Y(e,r)}}}function me(s){let e,a,r=s[0],n=[];for(let t=0;t<r.length;t+=1)n[t]=R(O(s,r,t));const l=t=>I(n[t],1,1,()=>{n[t]=null});return{c(){e=w("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=y(t,"DIV",{class:!0});var i=k(e);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(g),this.h()},h(){A(e,"class","absolute top-0 right-0 h-full max-w-full flex flex-col overflow-x-auto z-40")},m(t,i){W(t,e,i);for(let o=0;o<n.length;o+=1)n[o].m(e,null);a=!0},p(t,[i]){if(i&1){r=t[0];let o;for(o=0;o<r.length;o+=1){const p=O(t,r,o);n[o]?(n[o].p(p,i),E(n[o],1)):(n[o]=R(p),n[o].c(),E(n[o],1),n[o].m(e,null))}for(ne(),o=r.length;o<n.length;o+=1)l(o);ae()}},i(t){if(!a){for(let i=0;i<r.length;i+=1)E(n[i]);a=!0}},o(t){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)I(n[i]);a=!1},d(t){t&&g(e),se(n,t)}}}function $e(s,e,a){let r;return re(s,ue,n=>a(0,r=n)),[r]}class be extends T{constructor(e){super(),B(this,e,$e,me,U,{})}}function ve(){return"__TAURI__"in window?"tauri":"web"}const we=ve();let $;function z(){de({text:"Update installed Click here to Restart",type:"info",showCloseButton:!1,onClick:async s=>{s.text.set("Installing Please wait..."),await ye()}})}async function ye(){await $.update(),$.installing?(console.log("SW still installing waiting for it to finish"),$.installing.addEventListener("statechange",j)):await j()}async function j(){console.log("SW installed apply update to Application"),$.waiting?$.waiting.postMessage("APPLY_UPDATE"):window.location.reload()}async function ke(){if(we==="tauri"){console.log("Service Worker not enabled in Tauri");return}if("serviceWorker"in navigator){navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Controllerchange event -> reloading"),q.fire({title:"Restarting",text:"Please Wait"}),q.showLoading(),window.location.reload()});const s=await navigator.serviceWorker.register("/service-worker.js");s&&($=s,$.waiting||$.installing?z():$.addEventListener("updatefound",z),setInterval(()=>s.update(),1e3*60*60))}else console.log("Service Worker not supported")}function Ae(s){let e,a,r;const n=s[1].default,l=le(n,s,s[0],null);return a=new be({}),{c(){l&&l.c(),e=x(),H(a.$$.fragment)},l(t){l&&l.l(t),e=D(t),J(a.$$.fragment,t)},m(t,i){l&&l.m(t,i),W(t,e,i),K(a,t,i),r=!0},p(t,[i]){l&&l.p&&(!r||i&1)&&oe(l,n,t,t[0],r?ce(n,t[0],i,null):ie(t[0]),null)},i(t){r||(E(l,t),E(a.$$.fragment,t),r=!0)},o(t){I(l,t),I(a.$$.fragment,t),r=!1},d(t){l&&l.d(t),t&&g(e),Y(a,t)}}}function Ee(s,e,a){let{$$slots:r={},$$scope:n}=e;return fe(ke),s.$$set=l=>{"$$scope"in l&&a(0,n=l.$$scope)},[n,r]}class We extends T{constructor(e){super(),B(this,e,Ee,Ae,U,{})}}export{We as default};
