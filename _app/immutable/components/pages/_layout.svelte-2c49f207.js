import{S as T,i as B,s as U,k as w,a as D,q as Q,l as y,m as k,h as g,c as P,r as X,n as A,B as h,b as W,C as v,D as F,E as G,u as Z,F as ee,G as V,H as te,A as L,I as x,f as E,g as ae,d as ne,t as I,J as se,K as le,v as H,w as J,x as K,y as Y,L as re,M as oe,N as ie,O as ce,o as fe}from"../../chunks/index-1eb7d44b.js";import{a as ue,S as q,s as de}from"../../chunks/sweetalert2.all-0fd2fd5e.js";function _e(s){const e=s-1;return e*e*e+1}function M(s,{delay:e=0,duration:n=400,easing:l=_e,x:a=0,y:r=0,opacity:t=0}={}){const i=getComputedStyle(s),o=+i.opacity,_=i.transform==="none"?"":i.transform,d=o*(1-t);return{delay:e,duration:n,easing:l,css:(b,p)=>`
			transform: ${_} translate(${(1-b)*a}px, ${(1-b)*r}px);
			opacity: ${o-d*p}`}}function N(s){let e,n,l,a;return{c(){e=w("button"),n=w("i"),this.h()},l(r){e=y(r,"BUTTON",{class:!0});var t=k(e);n=y(t,"I",{class:!0}),k(n).forEach(g),t.forEach(g),this.h()},h(){A(n,"class","fa-solid fa-square-xmark"),A(e,"class","hover:text-neutral-focus active:text-neutral")},m(r,t){W(r,e,t),v(e,n),l||(a=F(e,"click",te(G(s[7]))),l=!0)},p:L,d(r){r&&g(e),l=!1,a()}}}function pe(s){let e,n,l,a,r,t,i,o,_,d,b,p,u=s[6]&&N(s);return{c(){e=w("div"),n=w("i"),l=D(),a=w("div"),r=w("span"),t=Q(s[5]),i=D(),o=w("div"),u&&u.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var f=k(e);n=y(f,"I",{class:!0}),k(n).forEach(g),l=P(f),a=y(f,"DIV",{class:!0});var S=k(a);r=y(S,"SPAN",{});var C=k(r);t=X(C,s[5]),C.forEach(g),S.forEach(g),i=P(f),o=y(f,"DIV",{class:!0});var m=k(o);u&&u.l(m),m.forEach(g),f.forEach(g),this.h()},h(){A(n,"class","select-none fa-solid"),h(n,"fa-info",s[4]==="info"),h(n,"fa-circle-exclamation",s[4]==="error"),h(n,"fa-triangle-exclamation",s[4]==="warning"),A(a,"class","select-none"),A(o,"class","flex-none"),A(e,"class","alert my-0.5 cursor-pointer"),h(e,"alert-info",s[4]==="info"),h(e,"alert-error",s[4]==="error"),h(e,"alert-warning",s[4]==="warning")},m(c,f){W(c,e,f),v(e,n),v(e,l),v(e,a),v(a,r),v(r,t),v(e,i),v(e,o),u&&u.m(o,null),d=!0,b||(p=F(e,"click",G(s[8])),b=!0)},p(c,[f]){(!d||f&16)&&h(n,"fa-info",c[4]==="info"),(!d||f&16)&&h(n,"fa-circle-exclamation",c[4]==="error"),(!d||f&16)&&h(n,"fa-triangle-exclamation",c[4]==="warning"),(!d||f&32)&&Z(t,c[5]),c[6]?u?u.p(c,f):(u=N(c),u.c(),u.m(o,null)):u&&(u.d(1),u=null),(!d||f&16)&&h(e,"alert-info",c[4]==="info"),(!d||f&16)&&h(e,"alert-error",c[4]==="error"),(!d||f&16)&&h(e,"alert-warning",c[4]==="warning")},i(c){d||(ee(()=>{_||(_=V(e,M,{},!0)),_.run(1)}),d=!0)},o(c){_||(_=V(e,M,{},!1)),_.run(0),d=!1},d(c){c&&g(e),u&&u.d(),c&&_&&_.end(),b=!1,p()}}}function he(s,e,n){let l,a=L,r=()=>(a(),a=x(u,m=>n(4,l=m)),u),t,i=L,o=()=>(i(),i=x(c,m=>n(5,t=m)),c),_,d=L,b=()=>(d(),d=x(f,m=>n(6,_=m)),f);s.$$.on_destroy.push(()=>a()),s.$$.on_destroy.push(()=>i()),s.$$.on_destroy.push(()=>d());let{dispatchedAlert:p}=e,u,c,f;const S=()=>p.close(),C=()=>p.click();return s.$$set=m=>{"dispatchedAlert"in m&&n(0,p=m.dispatchedAlert)},s.$$.update=()=>{s.$$.dirty&1&&r(n(1,u=p.type)),s.$$.dirty&1&&o(n(2,c=p.text)),s.$$.dirty&1&&b(n(3,f=p.closeable))},[p,u,c,f,l,t,_,S,C]}class ge extends T{constructor(e){super(),B(this,e,he,pe,U,{dispatchedAlert:0})}}function O(s,e,n){const l=s.slice();return l[1]=e[n],l}function R(s){let e,n;return e=new ge({props:{dispatchedAlert:s[1]}}),{c(){H(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,a){K(e,l,a),n=!0},p(l,a){const r={};a&1&&(r.dispatchedAlert=l[1]),e.$set(r)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function me(s){let e,n,l=s[0],a=[];for(let t=0;t<l.length;t+=1)a[t]=R(O(s,l,t));const r=t=>I(a[t],1,1,()=>{a[t]=null});return{c(){e=w("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=y(t,"DIV",{class:!0});var i=k(e);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(g),this.h()},h(){A(e,"class","absolute top-0 right-0 h-full max-w-full flex flex-col overflow-x-auto z-40")},m(t,i){W(t,e,i);for(let o=0;o<a.length;o+=1)a[o].m(e,null);n=!0},p(t,[i]){if(i&1){l=t[0];let o;for(o=0;o<l.length;o+=1){const _=O(t,l,o);a[o]?(a[o].p(_,i),E(a[o],1)):(a[o]=R(_),a[o].c(),E(a[o],1),a[o].m(e,null))}for(ae(),o=l.length;o<a.length;o+=1)r(o);ne()}},i(t){if(!n){for(let i=0;i<l.length;i+=1)E(a[i]);n=!0}},o(t){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)I(a[i]);n=!1},d(t){t&&g(e),se(a,t)}}}function $e(s,e,n){let l;return le(s,ue,a=>n(0,l=a)),[l]}class be extends T{constructor(e){super(),B(this,e,$e,me,U,{})}}let $;function j(){de({text:"Update installed Click here to Restart",type:"info",showCloseButton:!1,onClick:async s=>{s.text.set("Installing Please wait..."),await ve()}})}async function ve(){await $.update(),$.installing?(console.log("SW still installing waiting for it to finish"),$.installing.addEventListener("statechange",z)):await z()}async function z(){console.log("SW installed apply update to Application"),$.waiting?$.waiting.postMessage("APPLY_UPDATE"):window.location.reload()}async function we(){if("__TAURI__"in window){console.log("Service Worker not enabled in Tauri");return}if("serviceWorker"in navigator){navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Controllerchange event -> reloading"),q.fire({title:"Restarting",text:"Please Wait"}),q.showLoading(),window.location.reload()});const s=await navigator.serviceWorker.register("/service-worker.js");s&&($=s,$.waiting||$.installing?j():$.addEventListener("updatefound",j),setInterval(()=>s.update(),1e3*60*60))}}function ye(s){let e,n,l;const a=s[1].default,r=re(a,s,s[0],null);return n=new be({}),{c(){r&&r.c(),e=D(),H(n.$$.fragment)},l(t){r&&r.l(t),e=P(t),J(n.$$.fragment,t)},m(t,i){r&&r.m(t,i),W(t,e,i),K(n,t,i),l=!0},p(t,[i]){r&&r.p&&(!l||i&1)&&oe(r,a,t,t[0],l?ce(a,t[0],i,null):ie(t[0]),null)},i(t){l||(E(r,t),E(n.$$.fragment,t),l=!0)},o(t){I(r,t),I(n.$$.fragment,t),l=!1},d(t){r&&r.d(t),t&&g(e),Y(n,t)}}}function ke(s,e,n){let{$$slots:l={},$$scope:a}=e;return fe(we),s.$$set=r=>{"$$scope"in r&&n(0,a=r.$$scope)},[a,l]}class Ie extends T{constructor(e){super(),B(this,e,ke,ye,U,{})}}export{Ie as default};
