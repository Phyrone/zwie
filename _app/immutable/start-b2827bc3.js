import{S as Me,i as Xe,s as Ye,a as Qe,e as R,c as Ze,b as J,g as K,t as S,d as F,f as L,h as B,j as xe,o as $e,k as et,l as tt,m as nt,n as we,p as H,q as rt,r as at,u as st,v as V,w as M,x as C,y as q,z as Ce}from"./chunks/index-1eb7d44b.js";import{g as qe,f as Be,s as ee,a as ve,b as it,i as ot}from"./chunks/singletons-042a2dec.js";const lt=function(){const e=document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),ct=function(a,e){return new URL(a,e).href},Je={},W=function(e,n,s){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=ct(r,s),r in Je)return;Je[r]=!0;const c=r.endsWith(".css"),t=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${t}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":lt,c||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),c)return new Promise((o,f)=>{i.addEventListener("load",o),i.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};class be{constructor(e,n){this.status=e,typeof n=="string"?this.body={message:n}:n?this.body=n:this.body={message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class ze{constructor(e,n){this.status=e,this.location=n}}function ft(a,e){return a==="/"||e==="ignore"?a:e==="never"?a.endsWith("/")?a.slice(0,-1):a:e==="always"&&!a.endsWith("/")?a+"/":a}function ut(a){for(const e in a)a[e]=a[e].replace(/%23/g,"#").replace(/%3[Bb]/g,";").replace(/%2[Cc]/g,",").replace(/%2[Ff]/g,"/").replace(/%3[Ff]/g,"?").replace(/%3[Aa]/g,":").replace(/%40/g,"@").replace(/%26/g,"&").replace(/%3[Dd]/g,"=").replace(/%2[Bb]/g,"+").replace(/%24/g,"$");return a}const dt=["href","pathname","search","searchParams","toString","toJSON"];function pt(a,e){const n=new URL(a);for(const s of dt){let r=n[s];Object.defineProperty(n,s,{get(){return e(),r},enumerable:!0,configurable:!0})}return n[Symbol.for("nodejs.util.inspect.custom")]=(s,r,c)=>c(a,r),_t(n),n}function _t(a){Object.defineProperty(a,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}function mt(a){let e=5381,n=a.length;if(typeof a=="string")for(;n;)e=e*33^a.charCodeAt(--n);else for(;n;)e=e*33^a[--n];return(e>>>0).toString(36)}const Re=window.fetch;window.fetch=(a,e)=>{if((a instanceof Request?a.method:(e==null?void 0:e.method)||"GET")!=="GET"){const s=new URL(a instanceof Request?a.url:a.toString(),document.baseURI).href;ce.delete(s)}return Re(a,e)};const ce=new Map;function ht(a,e,n){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(typeof a=="string"?a:a.url)}]`;n&&typeof n.body=="string"&&(r+=`[data-hash="${mt(n.body)}"]`);const c=document.querySelector(r);if(c!=null&&c.textContent){const{body:t,...i}=JSON.parse(c.textContent),o=c.getAttribute("data-ttl");return o&&ce.set(e,{body:t,init:i,ttl:1e3*Number(o)}),Promise.resolve(new Response(t,i))}return Re(a,n)}function gt(a,e){const n=ce.get(a);if(n){if(performance.now()<n.ttl)return new Response(n.body,n.init);ce.delete(a)}return Re(a,e)}const wt=/^(\.\.\.)?(\w+)(?:=(\w+))?$/;function bt(a){const e=[],n=[];let s=!0;return{pattern:a===""?/^\/$/:new RegExp(`^${a.split(/(?:\/|$)/).filter(yt).map((c,t,i)=>{const o=decodeURIComponent(c),f=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(o);if(f)return e.push(f[1]),n.push(f[2]),"(?:/(.*))?";const g=t===i.length-1;return o&&"/"+o.split(/\[(.+?)\]/).map((O,z)=>{if(z%2){const G=wt.exec(O);if(!G)throw new Error(`Invalid param: ${O}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,A,v,X]=G;return e.push(v),n.push(X),A?"(.*?)":"([^/]+?)"}return g&&O.includes(".")&&(s=!1),O.normalize().replace(/%5[Bb]/g,"[").replace(/%5[Dd]/g,"]").replace(/#/g,"%23").replace(/\?/g,"%3F").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}).join("")}).join("")}${s?"/?":""}$`),names:e,types:n}}function yt(a){return!/^\([^)]+\)$/.test(a)}function $t(a,e,n,s){const r={};for(let c=0;c<e.length;c+=1){const t=e[c],i=n[c],o=a[c+1]||"";if(i){const f=s[i];if(!f)throw new Error(`Missing "${i}" param matcher`);if(!f(o))return}r[t]=o}return r}function vt(a,e,n,s){const r=new Set(e);return Object.entries(n).map(([i,[o,f,g]])=>{const{pattern:O,names:z,types:G}=bt(i),A={id:i,exec:v=>{const X=O.exec(v);if(X)return $t(X,z,G,s)},errors:[1,...g||[]].map(v=>a[v]),layouts:[0,...f||[]].map(t),leaf:c(o)};return A.errors.length=A.layouts.length=Math.max(A.errors.length,A.layouts.length),A});function c(i){const o=i<0;return o&&(i=~i),[o,a[i]]}function t(i){return i===void 0?i:[r.has(i),a[i]]}}function kt(a){let e,n,s;var r=a[0][0];function c(t){return{props:{data:t[2],form:t[1]}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&4&&(o.data=t[2]),i&2&&(o.form=t[1]),r!==(r=t[0][0])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function Et(a){let e,n,s;var r=a[0][0];function c(t){return{props:{data:t[2],$$slots:{default:[Nt]},$$scope:{ctx:t}}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&4&&(o.data=t[2]),i&4219&&(o.$$scope={dirty:i,ctx:t}),r!==(r=t[0][0])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function Rt(a){let e,n,s;var r=a[0][1];function c(t){return{props:{data:t[3],form:t[1]}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&8&&(o.data=t[3]),i&2&&(o.form=t[1]),r!==(r=t[0][1])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function St(a){let e,n,s;var r=a[0][1];function c(t){return{props:{data:t[3],$$slots:{default:[Ut]},$$scope:{ctx:t}}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&8&&(o.data=t[3]),i&4211&&(o.$$scope={dirty:i,ctx:t}),r!==(r=t[0][1])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function Lt(a){let e,n,s;var r=a[0][2];function c(t){return{props:{data:t[4],form:t[1]}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&16&&(o.data=t[4]),i&2&&(o.form=t[1]),r!==(r=t[0][2])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function Pt(a){let e,n,s;var r=a[0][2];function c(t){return{props:{data:t[4],$$slots:{default:[jt]},$$scope:{ctx:t}}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&16&&(o.data=t[4]),i&4195&&(o.$$scope={dirty:i,ctx:t}),r!==(r=t[0][2])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function Ot(a){let e,n,s;var r=a[0][3];function c(t){return{props:{data:t[5],form:t[1]}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&32&&(o.data=t[5]),i&2&&(o.form=t[1]),r!==(r=t[0][3])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function It(a){let e,n,s;var r=a[0][3];function c(t){return{props:{data:t[5],$$slots:{default:[At]},$$scope:{ctx:t}}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&32&&(o.data=t[5]),i&4163&&(o.$$scope={dirty:i,ctx:t}),r!==(r=t[0][3])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function At(a){let e,n,s;var r=a[0][4];function c(t){return{props:{data:t[6],form:t[1]}}}return r&&(e=new r(c(a))),{c(){e&&V(e.$$.fragment),n=R()},l(t){e&&M(e.$$.fragment,t),n=R()},m(t,i){e&&C(e,t,i),J(t,n,i),s=!0},p(t,i){const o={};if(i&64&&(o.data=t[6]),i&2&&(o.form=t[1]),r!==(r=t[0][4])){if(e){K();const f=e;S(f.$$.fragment,1,0,()=>{q(f,1)}),F()}r?(e=new r(c(t)),V(e.$$.fragment),L(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else r&&e.$set(o)},i(t){s||(e&&L(e.$$.fragment,t),s=!0)},o(t){e&&S(e.$$.fragment,t),s=!1},d(t){t&&B(n),e&&q(e,t)}}}function jt(a){let e,n,s,r;const c=[It,Ot],t=[];function i(o,f){return o[0][4]?0:1}return e=i(a),n=t[e]=c[e](a),{c(){n.c(),s=R()},l(o){n.l(o),s=R()},m(o,f){t[e].m(o,f),J(o,s,f),r=!0},p(o,f){let g=e;e=i(o),e===g?t[e].p(o,f):(K(),S(t[g],1,1,()=>{t[g]=null}),F(),n=t[e],n?n.p(o,f):(n=t[e]=c[e](o),n.c()),L(n,1),n.m(s.parentNode,s))},i(o){r||(L(n),r=!0)},o(o){S(n),r=!1},d(o){t[e].d(o),o&&B(s)}}}function Ut(a){let e,n,s,r;const c=[Pt,Lt],t=[];function i(o,f){return o[0][3]?0:1}return e=i(a),n=t[e]=c[e](a),{c(){n.c(),s=R()},l(o){n.l(o),s=R()},m(o,f){t[e].m(o,f),J(o,s,f),r=!0},p(o,f){let g=e;e=i(o),e===g?t[e].p(o,f):(K(),S(t[g],1,1,()=>{t[g]=null}),F(),n=t[e],n?n.p(o,f):(n=t[e]=c[e](o),n.c()),L(n,1),n.m(s.parentNode,s))},i(o){r||(L(n),r=!0)},o(o){S(n),r=!1},d(o){t[e].d(o),o&&B(s)}}}function Nt(a){let e,n,s,r;const c=[St,Rt],t=[];function i(o,f){return o[0][2]?0:1}return e=i(a),n=t[e]=c[e](a),{c(){n.c(),s=R()},l(o){n.l(o),s=R()},m(o,f){t[e].m(o,f),J(o,s,f),r=!0},p(o,f){let g=e;e=i(o),e===g?t[e].p(o,f):(K(),S(t[g],1,1,()=>{t[g]=null}),F(),n=t[e],n?n.p(o,f):(n=t[e]=c[e](o),n.c()),L(n,1),n.m(s.parentNode,s))},i(o){r||(L(n),r=!0)},o(o){S(n),r=!1},d(o){t[e].d(o),o&&B(s)}}}function Ke(a){let e,n=a[8]&&Fe(a);return{c(){e=et("div"),n&&n.c(),this.h()},l(s){e=tt(s,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var r=nt(e);n&&n.l(r),r.forEach(B),this.h()},h(){we(e,"id","svelte-announcer"),we(e,"aria-live","assertive"),we(e,"aria-atomic","true"),H(e,"position","absolute"),H(e,"left","0"),H(e,"top","0"),H(e,"clip","rect(0 0 0 0)"),H(e,"clip-path","inset(50%)"),H(e,"overflow","hidden"),H(e,"white-space","nowrap"),H(e,"width","1px"),H(e,"height","1px")},m(s,r){J(s,e,r),n&&n.m(e,null)},p(s,r){s[8]?n?n.p(s,r):(n=Fe(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(s){s&&B(e),n&&n.d()}}}function Fe(a){let e;return{c(){e=rt(a[9])},l(n){e=at(n,a[9])},m(n,s){J(n,e,s)},p(n,s){s&512&&st(e,n[9])},d(n){n&&B(e)}}}function Tt(a){let e,n,s,r,c;const t=[Et,kt],i=[];function o(g,O){return g[0][1]?0:1}e=o(a),n=i[e]=t[e](a);let f=a[7]&&Ke(a);return{c(){n.c(),s=Qe(),f&&f.c(),r=R()},l(g){n.l(g),s=Ze(g),f&&f.l(g),r=R()},m(g,O){i[e].m(g,O),J(g,s,O),f&&f.m(g,O),J(g,r,O),c=!0},p(g,[O]){let z=e;e=o(g),e===z?i[e].p(g,O):(K(),S(i[z],1,1,()=>{i[z]=null}),F(),n=i[e],n?n.p(g,O):(n=i[e]=t[e](g),n.c()),L(n,1),n.m(s.parentNode,s)),g[7]?f?f.p(g,O):(f=Ke(g),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},i(g){c||(L(n),c=!0)},o(g){S(n),c=!1},d(g){i[e].d(g),g&&B(s),f&&f.d(g),g&&B(r)}}}function Dt(a,e,n){let{stores:s}=e,{page:r}=e,{components:c}=e,{form:t}=e,{data_0:i=null}=e,{data_1:o=null}=e,{data_2:f=null}=e,{data_3:g=null}=e,{data_4:O=null}=e;xe(s.page.notify);let z=!1,G=!1,A=null;return $e(()=>{const v=s.page.subscribe(()=>{z&&(n(8,G=!0),n(9,A=document.title||"untitled page"))});return n(7,z=!0),v}),a.$$set=v=>{"stores"in v&&n(10,s=v.stores),"page"in v&&n(11,r=v.page),"components"in v&&n(0,c=v.components),"form"in v&&n(1,t=v.form),"data_0"in v&&n(2,i=v.data_0),"data_1"in v&&n(3,o=v.data_1),"data_2"in v&&n(4,f=v.data_2),"data_3"in v&&n(5,g=v.data_3),"data_4"in v&&n(6,O=v.data_4)},a.$$.update=()=>{a.$$.dirty&3072&&s.page.set(r)},[c,t,i,o,f,g,O,z,G,A,s,r]}class Vt extends Me{constructor(e){super(),Xe(this,e,Dt,Tt,Ye,{stores:10,page:11,components:0,form:1,data_0:2,data_1:3,data_2:4,data_3:5,data_4:6})}}const Ct={},fe=[()=>W(()=>import("./chunks/0-9e2d7308.js"),["chunks/0-9e2d7308.js","chunks/_layout-1daba58d.js","components/pages/_layout.svelte-a44e319b.js","assets/_layout-5bab0b92.css","chunks/index-1eb7d44b.js","chunks/sweetalert2.all-0fd2fd5e.js","chunks/index-d12f5de2.js"],import.meta.url),()=>W(()=>import("./chunks/1-42269a49.js"),["chunks/1-42269a49.js","components/error.svelte-72cbcd55.js","chunks/index-1eb7d44b.js","chunks/singletons-042a2dec.js","chunks/index-d12f5de2.js"],import.meta.url),()=>W(()=>import("./chunks/2-6e83f29e.js"),["chunks/2-6e83f29e.js","components/pages/(main)/_layout.svelte-932d1513.js","chunks/index-1eb7d44b.js"],import.meta.url),()=>W(()=>import("./chunks/3-ea14e688.js"),["chunks/3-ea14e688.js","chunks/_layout-05547402.js"],import.meta.url),()=>W(()=>import("./chunks/4-a4d61399.js"),["chunks/4-a4d61399.js","components/pages/(main)/s/_server_/_layout.svelte-fcf11360.js","chunks/index-1eb7d44b.js"],import.meta.url),()=>W(()=>import("./chunks/5-23a8fd27.js"),["chunks/5-23a8fd27.js","components/pages/settings/_layout.svelte-84d91536.js","chunks/index-1eb7d44b.js"],import.meta.url),()=>W(()=>import("./chunks/6-aae51bed.js"),["chunks/6-aae51bed.js","components/pages/(main)/_page.svelte-ad6b3503.js","chunks/index-1eb7d44b.js","chunks/sweetalert2.all-0fd2fd5e.js","chunks/index-d12f5de2.js"],import.meta.url),()=>W(()=>import("./chunks/7-b5009314.js"),["chunks/7-b5009314.js","components/pages/(main)/s/_server_/_page.svelte-3c2795c4.js","chunks/index-1eb7d44b.js"],import.meta.url),()=>W(()=>import("./chunks/8-49669905.js"),["chunks/8-49669905.js","components/pages/settings/_page.svelte-9347d66a.js","chunks/index-1eb7d44b.js"],import.meta.url)],qt=[],Bt={"(main)":[6,[2]],settings:[8,[5]],"(main)/s/[server]":[7,[2,3,4]]},Jt={handleError:({error:a})=>(console.error(a),{message:"Internal Error"})},zt="/__data.js",He="sveltekit:scroll",Z="sveltekit:index",ie=vt(fe,qt,Bt,Ct),ke=fe[0],Ee=fe[1];ke();Ee();let ae={};try{ae=JSON.parse(sessionStorage[He])}catch{}function ye(a){ae[a]=ve()}function Kt({target:a,base:e,trailing_slash:n}){var Ne;const s=[],r={id:null,promise:null},c={before_navigate:[],after_navigate:[]};let t={branch:[],error:null,session_id:0,url:null},i=!1,o=!0,f=!1,g=1,O=null,z=!1,G,A=(Ne=history.state)==null?void 0:Ne[Z];A||(A=Date.now(),history.replaceState({...history.state,[Z]:A},"",location.href));const v=ae[A];v&&(history.scrollRestoration="manual",scrollTo(v.x,v.y));let X=!1,Y,Se;function Le(){if(!O){const l=new URL(location.href);O=Promise.resolve().then(async()=>{const d=_e(l,!0);await Oe(d,l,[]),O=null,z=!1})}return O}async function ue(l,{noscroll:d=!1,replaceState:m=!1,keepfocus:u=!1,state:p={}},h){return typeof l=="string"&&(l=new URL(l,qe(document))),me({url:l,scroll:d?ve():null,keepfocus:u,redirect_chain:h,details:{state:p,replaceState:m},accepted:()=>{},blocked:()=>{},type:"goto"})}async function Pe(l){const d=_e(l,!1);if(!d)throw new Error("Attempted to prefetch a URL that does not belong to this app");return r.promise=je(d),r.id=d.id,r.promise}async function Oe(l,d,m,u,p){var $,k;const h=Se={};let w=l&&await je(l);if(!w&&d.origin===location.origin&&d.pathname===location.pathname&&(w=await se({status:404,error:new Error(`Not found: ${d.pathname}`),url:d,routeId:null})),!w)return await ne(d),!1;if(d=(l==null?void 0:l.url)||d,Se!==h)return!1;if(s.length=0,w.type==="redirect")if(m.length>10||m.includes(d.pathname))w=await se({status:500,error:new Error("Redirect loop"),url:d,routeId:null});else return ue(new URL(w.location,d).href,{},[...m,d.pathname]),!1;else((k=($=w.props)==null?void 0:$.page)==null?void 0:k.status)>=400&&await ee.updated.check()&&await ne(d);if(f=!0,u&&u.details){const{details:y}=u,b=y.replaceState?0:1;y.state[Z]=A+=b,history[y.replaceState?"replaceState":"pushState"](y.state,"",d)}if(i){t=w.state,w.props.page&&(w.props.page.url=d);const y=le();G.$set(w.props),y()}else Ie(w);if(u){const{scroll:y,keepfocus:b}=u;if(!b){const E=document.body,N=E.getAttribute("tabindex");E.tabIndex=-1,E.focus({preventScroll:!0}),setTimeout(()=>{var I;(I=getSelection())==null||I.removeAllRanges()}),N!==null?E.setAttribute("tabindex",N):E.removeAttribute("tabindex")}if(await Ce(),o){const E=d.hash&&document.getElementById(d.hash.slice(1));y?scrollTo(y.x,y.y):E?E.scrollIntoView():scrollTo(0,0)}}else await Ce();r.promise=null,r.id=null,o=!0,w.props.page&&(Y=w.props.page),p&&p(),f=!1}function Ie(l){var p,h;t=l.state;const d=document.querySelector("style[data-sveltekit]");d&&d.remove(),Y=l.props.page;const m=le();G=new Vt({target:a,props:{...l.props,stores:ee},hydrate:!0}),m();const u={from:null,to:oe("to",{params:t.params,routeId:(h=(p=t.route)==null?void 0:p.id)!=null?h:null,url:new URL(location.href)}),type:"load"};c.after_navigate.forEach(w=>w(u)),i=!0}async function te({url:l,params:d,branch:m,status:u,error:p,route:h,form:w}){var N;const $=m.filter(Boolean),k={type:"loaded",state:{url:l,params:d,branch:m,error:p,route:h,session_id:g},props:{components:$.map(I=>I.node.component)}};w!==void 0&&(k.props.form=w);let y={},b=!Y;for(let I=0;I<$.length;I+=1){const T=$[I];y={...y,...T.data},(b||!t.branch.some(D=>D===T))&&(k.props[`data_${I}`]=y,b=b||Object.keys((N=T.data)!=null?N:{}).length>0)}if(b||(b=Object.keys(Y.data).length!==Object.keys(y).length),!t.url||l.href!==t.url.href||t.error!==p||b){k.props.page={error:p,params:d,routeId:h&&h.id,status:u,url:l,data:b?y:Y.data};const I=(T,D)=>{Object.defineProperty(k.props.page,T,{get:()=>{throw new Error(`$page.${T} has been replaced by $page.url.${D}`)}})};I("origin","origin"),I("path","pathname"),I("query","searchParams")}return k}async function de({loader:l,parent:d,url:m,params:u,routeId:p,server_data_node:h}){var y,b,E,N,I;let w=null;const $={dependencies:new Set,params:new Set,parent:!1,url:!1},k=await l();if((y=k.shared)!=null&&y.load){let T=function(..._){for(const P of _){const{href:j}=new URL(P,m);$.dependencies.add(j)}};const D={};for(const _ in u)Object.defineProperty(D,_,{get(){return $.params.add(_),u[_]},enumerable:!0});const Q={routeId:p,params:D,data:(b=h==null?void 0:h.data)!=null?b:null,url:pt(m,()=>{$.url=!0}),async fetch(_,P){let j;typeof _=="string"?j=_:(j=_.url,P={body:_.method==="GET"||_.method==="HEAD"?void 0:await _.blob(),cache:_.cache,credentials:_.credentials,headers:_.headers,integrity:_.integrity,keepalive:_.keepalive,method:_.method,mode:_.mode,redirect:_.redirect,referrer:_.referrer,referrerPolicy:_.referrerPolicy,signal:_.signal,...P});const U=new URL(j,m).href;return T(U),i?gt(U,P):ht(j,U,P)},setHeaders:()=>{},depends:T,parent(){return $.parent=!0,d()}};Object.defineProperties(Q,{props:{get(){throw new Error("@migration task: Replace `props` with `data` stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1},session:{get(){throw new Error("session is no longer available. See https://github.com/sveltejs/kit/discussions/5883")},enumerable:!1},stuff:{get(){throw new Error("@migration task: Remove stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1}}),w=(E=await k.shared.load.call(null,Q))!=null?E:null}return{node:k,loader:l,server:h,shared:(N=k.shared)!=null&&N.load?{type:"data",data:w,uses:$}:null,data:(I=w!=null?w:h==null?void 0:h.data)!=null?I:null}}function Ae(l,d,m){if(z)return!0;if(!m)return!1;if(m.parent&&d||l.url&&m.url)return!0;for(const u of l.params)if(m.params.has(u))return!0;for(const u of m.dependencies)if(s.some(p=>p(new URL(u))))return!0;return!1}function pe(l,d){var m,u;return(l==null?void 0:l.type)==="data"?{type:"data",data:l.data,uses:{dependencies:new Set((m=l.uses.dependencies)!=null?m:[]),params:new Set((u=l.uses.params)!=null?u:[]),parent:!!l.uses.parent,url:!!l.uses.url}}:(l==null?void 0:l.type)==="skip"&&d!=null?d:null}async function je({id:l,invalidating:d,url:m,params:u,route:p}){var Q;if(r.id===l&&r.promise)return r.promise;const{errors:h,layouts:w,leaf:$}=p,k=t.url&&{url:l!==t.url.pathname+t.url.search,params:Object.keys(u).filter(_=>t.params[_]!==u[_])},y=[...w,$];h.forEach(_=>_==null?void 0:_().catch(()=>{})),y.forEach(_=>_==null?void 0:_[1]().catch(()=>{}));let b=null;const E=y.reduce((_,P,j)=>{var x;const U=t.branch[j],re=!!(P!=null&&P[0])&&((U==null?void 0:U.loader)!==P[1]||Ae(k,_.some(Boolean),(x=U.server)==null?void 0:x.uses));return _.push(re),_},[]);if(E.some(Boolean)){try{b=await Ge(m,E)}catch(_){return se({status:500,error:_,url:m,routeId:p.id})}if(b.type==="redirect")return b}const N=b==null?void 0:b.nodes;let I=!1;const T=y.map(async(_,P)=>{var he,Te;if(!_)return;const j=t.branch[P],U=(he=N==null?void 0:N[P])!=null?he:null;if((!U||U.type==="skip")&&_[1]===(j==null?void 0:j.loader)&&!Ae(k,I,(Te=j.shared)==null?void 0:Te.uses))return j;if(I=!0,(U==null?void 0:U.type)==="error")throw U;return de({loader:_[1],url:m,params:u,routeId:p.id,parent:async()=>{var Ve;const De={};for(let ge=0;ge<P;ge+=1)Object.assign(De,(Ve=await T[ge])==null?void 0:Ve.data);return De},server_data_node:pe(U,j==null?void 0:j.server)})});for(const _ of T)_.catch(()=>{});const D=[];for(let _=0;_<y.length;_+=1)if(y[_])try{D.push(await T[_])}catch(P){if(P instanceof ze)return{type:"redirect",location:P.location};let j=500,U;for(N!=null&&N.includes(P)?(j=(Q=P.status)!=null?Q:j,U=P.error):P instanceof be?(j=P.status,U=P.body):U=We(P,{params:u,url:m,routeId:p.id});_--;)if(h[_]){let re,x=_;for(;!D[x];)x-=1;try{return re={node:await h[_](),loader:h[_],data:{},server:null,shared:null},await te({url:m,params:u,branch:D.slice(0,x+1).concat(re),status:j,error:U,route:p})}catch{continue}}await ne(m);return}else D.push(void 0);return await te({url:m,params:u,branch:D,status:200,error:null,route:p,form:d?void 0:null})}async function se({status:l,error:d,url:m,routeId:u}){var y;const p={},h=await ke();let w=null;if(h.server)try{const b=await Ge(m,[!0]);if(b.type!=="data"||b.nodes[0]&&b.nodes[0].type!=="data")throw 0;w=(y=b.nodes[0])!=null?y:null}catch{await ne(m);return}const $=await de({loader:ke,url:m,params:p,routeId:u,parent:()=>Promise.resolve({}),server_data_node:pe(w)}),k={node:await Ee(),loader:Ee,shared:null,server:null,data:null};return await te({url:m,params:p,branch:[$,k],status:l,error:d instanceof be?d.body:We(d,{url:m,params:p,routeId:null}),route:null})}function _e(l,d){if(Ue(l))return;const m=decodeURI(l.pathname.slice(e.length)||"/");for(const u of ie){const p=u.exec(m);if(p){const h=new URL(l.origin+ft(l.pathname,n)+l.search+l.hash);return{id:h.pathname+h.search,invalidating:d,route:u,params:ut(p),url:h}}}}function Ue(l){return l.origin!==location.origin||!l.pathname.startsWith(e)}async function me({url:l,scroll:d,keepfocus:m,redirect_chain:u,details:p,type:h,delta:w,accepted:$,blocked:k}){var I,T,D,Q;let y=!1;const b=_e(l,!1),E={from:oe("from",{params:t.params,routeId:(T=(I=t.route)==null?void 0:I.id)!=null?T:null,url:t.url}),to:oe("to",{params:(D=b==null?void 0:b.params)!=null?D:null,routeId:(Q=b==null?void 0:b.route.id)!=null?Q:null,url:l}),type:h};w!==void 0&&(E.delta=w);const N={...E,cancel:()=>{y=!0}};if(c.before_navigate.forEach(_=>_(N)),y){k();return}ye(A),$(),i&&ee.navigating.set(E),await Oe(b,l,u,{scroll:d,keepfocus:m,details:p},()=>{c.after_navigate.forEach(_=>_(E)),ee.navigating.set(null)})}function ne(l){return location.href=l.href,new Promise(()=>{})}return{after_navigate:l=>{$e(()=>(c.after_navigate.push(l),()=>{const d=c.after_navigate.indexOf(l);c.after_navigate.splice(d,1)}))},before_navigate:l=>{$e(()=>(c.before_navigate.push(l),()=>{const d=c.before_navigate.indexOf(l);c.before_navigate.splice(d,1)}))},disable_scroll_handling:()=>{(f||!i)&&(o=!1)},goto:(l,d={})=>ue(l,d,[]),invalidate:l=>{if(l===void 0)throw new Error("`invalidate()` (with no arguments) has been replaced by `invalidateAll()`");if(typeof l=="function")s.push(l);else{const{href:d}=new URL(l,location.href);s.push(m=>m.href===d)}return Le()},invalidateAll:()=>(z=!0,Le()),prefetch:async l=>{const d=new URL(l,qe(document));await Pe(d)},prefetch_routes:async l=>{const m=(l?ie.filter(u=>l.some(p=>u.exec(p))):ie).map(u=>Promise.all([...u.layouts,u.leaf].map(p=>p==null?void 0:p[1]())));await Promise.all(m)},apply_action:async l=>{if(l.type==="error"){const d=new URL(location.href),{branch:m,route:u}=t;if(!u)return;let p=t.branch.length;for(;p--;)if(u.errors[p]){let h,w=p;for(;!m[w];)w-=1;try{h={node:await u.errors[p](),loader:u.errors[p],data:{},server:null,shared:null};const $=await te({url:d,params:t.params,branch:m.slice(0,w+1).concat(h),status:500,error:l.error,route:u});t=$.state;const k=le();G.$set($.props),k();return}catch{continue}}}else if(l.type==="redirect")ue(l.location,{},[]);else{const d={form:l.data};l.status!==Y.status&&(d.page={...Y,status:l.status});const m=le();G.$set(d),m()}},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",u=>{var w,$;let p=!1;const h={from:oe("from",{params:t.params,routeId:($=(w=t.route)==null?void 0:w.id)!=null?$:null,url:t.url}),to:null,type:"unload",cancel:()=>p=!0};c.before_navigate.forEach(k=>k(h)),p?(u.preventDefault(),u.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){ye(A);try{sessionStorage[He]=JSON.stringify(ae)}catch{}}});const l=u=>{const{url:p,options:h}=Be(u);if(p&&h.prefetch){if(Ue(p))return;Pe(p)}};let d;const m=u=>{clearTimeout(d),d=setTimeout(()=>{var p;(p=u.target)==null||p.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))},20)};addEventListener("touchstart",l),addEventListener("mousemove",m),addEventListener("sveltekit:trigger_prefetch",l),addEventListener("click",u=>{if(u.button||u.which!==1||u.metaKey||u.ctrlKey||u.shiftKey||u.altKey||u.defaultPrevented)return;const{a:p,url:h,options:w}=Be(u);if(!p||!h)return;const $=p instanceof SVGAElement;if(!$&&!(h.protocol==="https:"||h.protocol==="http:"))return;const k=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||k.includes("external")||w.reload||($?p.target.baseVal:p.target))return;const[y,b]=h.href.split("#");if(b!==void 0&&y===location.href.split("#")[0]){X=!0,ye(A),ee.page.set({...Y,url:h}),ee.page.notify();return}me({url:h,scroll:w.noscroll?ve():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:h.href===location.href},accepted:()=>u.preventDefault(),blocked:()=>u.preventDefault(),type:"link"})}),addEventListener("popstate",u=>{if(u.state){if(u.state[Z]===A)return;const p=u.state[Z]-A;me({url:new URL(location.href),scroll:ae[u.state[Z]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{A=u.state[Z]},blocked:()=>{history.go(-p)},type:"popstate",delta:p})}}),addEventListener("hashchange",()=>{X&&(X=!1,history.replaceState({...history.state,[Z]:++A},"",location.href))});for(const u of document.querySelectorAll("link"))u.rel==="icon"&&(u.href=u.href);addEventListener("pageshow",u=>{u.persisted&&ee.navigating.set(null)})},_hydrate:async({status:l,error:d,node_ids:m,params:u,routeId:p,data:h,form:w})=>{var y;const $=new URL(location.href);let k;try{const b=m.map(async(E,N)=>{const I=h[N];return de({loader:fe[E],url:$,params:u,routeId:p,parent:async()=>{const T={};for(let D=0;D<N;D+=1)Object.assign(T,(await b[D]).data);return T},server_data_node:pe(I)})});k=await te({url:$,params:u,branch:await Promise.all(b),status:l,error:d,form:w,route:(y=ie.find(E=>E.id===p))!=null?y:null})}catch(b){const E=b;if(E instanceof ze){await ne(new URL(b.location,location.href));return}k=await se({status:E instanceof be?E.status:500,error:E,url:$,routeId:p})}Ie(k)}}}let Ft=1;async function Ge(a,e){const n=new URL(a);n.pathname=a.pathname.replace(/\/$/,"")+zt,n.searchParams.set("__invalid",e.map(r=>r?"y":"n").join("")),n.searchParams.set("__id",String(Ft++)),await W(()=>import(n.href),[],import.meta.url);const s=window.__sveltekit_data;return delete window.__sveltekit_data,s}function We(a,e){var n;return(n=Jt.handleError({error:a,event:e}))!=null?n:{error:"Internal Error"}}const Gt=["hash","href","host","hostname","origin","pathname","port","protocol","search","searchParams","toString","toJSON"];function oe(a,e){for(const n of Gt)Object.defineProperty(e,n,{get(){throw new Error(`The navigation shape changed - ${a}.${n} should now be ${a}.url.${n}`)}});return e}function le(){return()=>{}}async function Mt({env:a,hydrate:e,paths:n,target:s,trailing_slash:r}){it(n);const c=Kt({target:s,base:n.base,trailing_slash:r});ot({client:c}),e?await c._hydrate(e):c.goto(location.href,{replaceState:!0}),c._start_router()}export{Mt as start};
